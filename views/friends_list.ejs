<div style="width: 100%; height: 100vh; background-color: #2d2d2d;">
    <nav>
        <div class="comunity_nav">
            <div style="color: #ffffff; border-bottom: solid #747474 2px; cursor: default;" onclick="location.href='/friends';">나의 러닝메이트</div>
            <div style="cursor: default;" onclick="location.href='/course';">러닝 코스</div>
            <div style="cursor: default;" onclick="location.href='/community';">게시판</div>
        </div>
    </nav>
    <div style="font-size: 20px; font-weight: 600; color: #66FFE3; padding-left: 20px; margin-top: 20px;">나의 러닝메이트</div>
    <div style="display: flex; background-color: #698882; width: 110px; height: 27px; border-radius: 50px; margin: 15px 0px 20px 30px;">
        <div id="sortByName" onclick="sortByName()" style="font-size: 13px; font-weight: 600; width: 63.82px; height: 27px; line-height: 27px; text-align: center; border-radius: 50px; background-color: #A4E3D8;">이름순</div>
    </div>
    <div style="width: 326px; height: 419px; background-color: #646464; border-radius: 10px; margin: auto; padding: 15px 10px; overflow-y: auto;" id="data-container">
        <!-- 모든 데이터를 한 번에 출력 -->
    </div>
    <script>
        const items = <%- JSON.stringify(friendsList) %>;

        // 데이터를 렌더링
        function displayAllItems() {
            const container = document.getElementById("data-container");
            container.innerHTML = items.map(item => `
                <div class="friendslist">
                    <div style="display: flex; justify-content: space-between;">
                        <div>${item.nickname}</div>
                        <div>${item.location}</div>
                    </div>
                </div>
            `).join('');
        }

        // 정렬 기능
        function setActiveButton(activeButtonId) {
            document.getElementById("sortByName").style.backgroundColor = activeButtonId === "sortByName" ? "#A4E3D8" : "#698882";
        }

        function sortByName() {
            items.sort((a, b) => a.nickname.localeCompare(b.nickname));
            displayAllItems(); // 정렬 후 전체 다시 렌더링
            setActiveButton("sortByName");
        }

        // 초기 렌더링: 이름순으로 정렬된 상태
        sortByName();
    </script>
</div>
